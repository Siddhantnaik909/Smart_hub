<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SMART HUB | Quantum Love Analyzer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/custom.css">
    <style>
        .love-meter-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 20px auto;
        }
        .love-svg {
            transform: rotate(-90deg);
            width: 200px;
            height: 200px;
        }
        .love-bg {
            fill: none;
            stroke: var(--bg-main);
            stroke-width: 15;
        }
        .love-progress {
            fill: none;
            stroke: #ef4444;
            stroke-width: 15;
            stroke-linecap: round;
            stroke-dasharray: 565.48; /* 2 * PI * 90 */
            stroke-dashoffset: 565.48;
            transition: stroke-dashoffset 2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .love-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--text-primary);
        }
        .heart-icon-overlay {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 1.5rem;
            color: #ef4444;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="dashboard-layout" id="dashboard-wrapper">
        <div class="overlay" id="mobile-overlay"></div>
        <div id="sidebar-placeholder"></div>
        
        <main class="main-content">
            <div id="header-placeholder"></div>
            
            <div class="page-body">
                <section class="container fade-in">
                    <div class="cat-card stagger-1">
                        <div class="calculator-header">
                            <h2><i class="fa-solid fa-heart-pulse"></i> Quantum Love Analyzer</h2>
                            <p>Algorithmic name matching based on character frequency and phonetic resonance.</p>
                        </div>
                        
                        <div class="sub-cat-list">
                            <div class="sub-link">
                                <span>Your Name</span>
                                <input type="text" id="name1" class="form-control" placeholder="Full Name">
                            </div>
                            <div class="sub-link">
                                <span>Partner's Name</span>
                                <input type="text" id="name2" class="form-control" placeholder="Full Name">
                            </div>
                            
                            <button id="calc-btn" class="btn-calc" onclick="calculateLove()">Analyze Compatibility</button>
                        </div>
                    </div>

                    <div id="results" class="cat-card stagger-2 hidden" style="display: none; margin-top: 20px;">
                        <h3>Compatibility Report</h3>
                        
                        <div class="love-meter-container">
                            <svg class="love-svg">
                                <circle class="love-bg" cx="100" cy="100" r="90"></circle>
                                <circle id="progress-circle" class="love-progress" cx="100" cy="100" r="90"></circle>
                            </svg>
                            <div class="love-percentage" id="percent-text">0%</div>
                            <i class="fa-solid fa-heart heart-icon-overlay"></i>
                        </div>

                        

                        <div class="sub-cat-list" id="result-display-area">
                            <div class="sub-link">
                                <span>Relationship Status</span>
                                <strong id="status-text" style="color: #ef4444;">-</strong>
                            </div>
                            <div class="sub-link">
                                <span>Phonetic Match</span>
                                <strong id="phonetic-match">0%</strong>
                            </div>
                        </div>

                        <div class="sub-link" style="background: rgba(239, 68, 68, 0.05); border-left: 4px solid #ef4444; margin-top: 15px; padding: 15px;">
                            <span style="color: #ef4444; font-weight: bold;"><i class="fa-solid fa-quote-left"></i> Connection Insight</span>
                            <p id="pro-tip" style="font-size: 0.85rem; margin-top: 5px; line-height: 1.4;"></p>
                        </div>

                        <button id="save-btn" class="btn-save">
                            <i class="fa-solid fa-save"></i> Save Matching
                        </button>
                    </div>
                </section>
                <div id="footer-placeholder"></div>
            </div>
        </main>
    </div>

    <script>
        window.FRONTEND_ROOT = "/"; 
        window.COMPONENT_ROOT = "/components/"; 

        function calculateLove() {
            const name1 = document.getElementById('name1').value.trim().toLowerCase();
            const name2 = document.getElementById('name2').value.trim().toLowerCase();
            
            if (!name1 || !name2) {
                alert("Please enter both names for analysis.");
                return;
            }

            const resCard = document.getElementById('results');
            const progressCircle = document.getElementById('progress-circle');
            const percentDisplay = document.getElementById('percent-text');
            
            resCard.style.display = 'block';
            resCard.classList.remove('hidden');

            // Seed-based randomization (Names always yield same result)
            let combined = name1 + "love" + name2;
            let sum = 0;
            for(let i=0; i<combined.length; i++) sum += combined.charCodeAt(i);
            
            const percentage = (sum % 41) + 60; // Returns between 60% and 100% for fun
            
            // Animate SVG Circle
            const circumference = 2 * Math.PI * 90;
            const offset = circumference - (percentage / 100) * circumference;
            
            // Reset and Animate
            progressCircle.style.strokeDashoffset = circumference;
            setTimeout(() => {
                progressCircle.style.strokeDashoffset = offset;
            }, 100);

            // Counter Animation
            let count = 0;
            const interval = setInterval(() => {
                if(count >= percentage) clearInterval(interval);
                percentDisplay.innerText = count + "%";
                count++;
            }, 20);

            // Dynamic Status Logic
            const status = document.getElementById('status-text');
            const tip = document.getElementById('pro-tip');
            
            if (percentage > 90) {
                status.innerText = "Soulmates";
                tip.innerHTML = "Your names resonate at a high frequency. This suggests a rare, deep-seated compatibility that transcends typical attraction.";
            } else if (percentage > 80) {
                status.innerText = "Strong Match";
                tip.innerHTML = "A very healthy alignment. Your individual energies complement each other, creating a balanced and harmonious connection.";
            } else {
                status.innerText = "Potential Spark";
                tip.innerHTML = "There is a definite foundation here. While there's room to grow, the core synergy is present and ready to be explored.";
            }

            document.getElementById('phonetic-match').innerText = (percentage - 12) + "%";
        }
    </script>

    <script src="/js/component-loader.js"></script>
    <script type="module" src="/js/script.js"></script>
    <script src="/js/calculators.js"></script>
    <script src="/js/custom.js"></script>
</body>
</html>